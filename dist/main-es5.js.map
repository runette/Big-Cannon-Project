{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/bcp-api.service.ts","webpack:///src/app/bcp-data-card/bcp-data-card.component.ts","webpack:///src/app/bcp-data-card/bcp-data-card.component.html","webpack:///src/app/bcp-database/bcp-database.component.ts","webpack:///src/app/bcp-database/bcp-database.component.html","webpack:///src/app/bcp-filter-values.service.ts","webpack:///src/app/bcp-help/bcp-help.component.ts","webpack:///src/app/bcp-help/bcp-help.component.html","webpack:///src/app/bcp-home/bcp-home.component.ts","webpack:///src/app/bcp-home/bcp-home.component.html","webpack:///src/app/bcp-list2string.pipe.ts","webpack:///src/app/bcp-login/bcp-login.component.ts","webpack:///src/app/bcp-login/bcp-login.component.html","webpack:///src/app/bcp-map-data.service.ts","webpack:///src/app/bcp-new-record/bcp-new-record.component.ts","webpack:///src/app/bcp-new-record/bcp-new-record.component.html","webpack:///src/app/bcp-record-detail/bcp-record-detail.component.ts","webpack:///src/app/bcp-record-detail/bcp-record-detail.component.html","webpack:///src/app/bcp-record-observer/bcp-record-observer.component.ts","webpack:///src/app/bcp-record-observer/bcp-record-observer.component.html","webpack:///src/app/bcp-record-reporter/bcp-record-reporter.component.ts","webpack:///src/app/bcp-record-reporter/bcp-record-reporter.component.html","webpack:///src/app/bcp-record-surveyor/bcp-record-surveyor.component.ts","webpack:///src/app/bcp-record-surveyor/bcp-record-surveyor.component.html","webpack:///src/app/bcp-user.service.ts","webpack:///src/app/googlemap-locate/google-locate-control.ts","webpack:///src/app/googlemap-locate/googlemap-locate.component.ts","webpack:///src/app/googlemap-locate/googlemap-locate.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","AppRoutingModule","forRoot","AppComponent","title","AppModule","firebaseui","BcpApiService","auth","http","FETCH_USER","apiUrl","FETCH_MAP","thisToken","idToken","toPromise","token","url","body","post","headers","responseType","BcpDataCardComponent","BcpDatabaseComponent","FILTER_TEXT","data","options","zoom","center","lat","lng","mapTypeId","google","maps","MapTypeId","ROADMAP","zoomControl","zoomControlOptions","position","ControlPosition","LEFT_BOTTOM","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","locateOptions","pan","zoomTo","clusterOptions","averageCenter","maxZoom","imagePath","invisMarker","visible","opacity","cluster","here","hereText","ownText","clusterText","$newData","subscribe","next","loadMarkers","selectedMarker","$event","map","my_map","_googleMap","mc","cat","gunCategory","setFilter","mat","material","qual","recordQuality","order","checked","ownRecords","mapInfo","mapMarker","markers","i","filteredData","length","entry","draggable","icon","quality","RECORD_QUALITIES","marker","Marker","setPosition","location","setIcon","addListener","find","item","getPosition","_marker","open","push","clearMarkers","addMarkers","loaded","onZoomEnd","setHere","setCluster","setOwn","setOrder","BcpFilterValuesService","MATERIAL","GUN_CATEGORIES","RECORD_STATUS","BcpHelpComponent","BcpHomeComponent","BcpList2stringPipe","value","join","BcpLoginComponent","event","console","log","error","success","BcpMapDataService","user","api","_material","_gunCategory","_recordQuality","_recordStatus","_order","_ownRecords","onAuthStateChanged","getMapData","filter","category","recordStatus","status","user_id","fireUserData","uid","sort","a","b","gunid","date","getMilliseconds","apiPost","response","loadMapData","mapData","hasOwnProperty","LatLng","Date","items","j","bbox","_boundingBox","BcpNewRecordComponent","BcpRecordDetailComponent","request","edit","currentScreen","queryParamMap","pmap","index","findIndex","element","parseInt","get","gun","BcpRecordObserverComponent","DATA_VALUES","locationView","setCenter","setMap","navigator","geolocation","getCurrentPosition","showPosition","showError","alert","coords","latitude","longitude","resetMap","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","provide","useExisting","BcpRecordReporterComponent","scale","cannon","nativeElement","onload","cannonSvg","contentDocument","updateSvg","model","update","Object","measurements","forEach","key","getElementById","firstElementChild","innerHTML","_gun","scaleToggle","BcpRecordSurveyorComponent","BcpUserService","login","getUser","BcpUser","buser","name","standing","test_user","test","LocateControl","args","el","controls","BOTTOM_LEFT","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","locationOptions","enableHighAccuracy","timeout","maximumAge","GooglemapLocateComponent","control","watch","watchPosition","my_position","latlng","setRadius","accuracy","setZoom","message","clearWatch","_map","div","onClick","DISCOVERY_DOCS","SCOPES","CLIENT_ID","API_KEY","AUTH_DOMAIN","PROJECT_ID","DATABASE_URL","STORAGE_BUCKET","environment","production","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","clientId","scopes","discoveryDocs","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport {BcpHomeComponent} from './bcp-home/bcp-home.component';\nimport {BcpDatabaseComponent} from './bcp-database/bcp-database.component';\nimport {BcpNewRecordComponent} from './bcp-new-record/bcp-new-record.component';\nimport {BcpRecordDetailComponent} from './bcp-record-detail/bcp-record-detail.component';\nimport {BcpHelpComponent} from './bcp-help/bcp-help.component';\nimport {BcpLoginComponent} from './bcp-login/bcp-login.component';\n\n\nconst routes: Routes = [\n{ path: '', component: BcpHomeComponent },\n{ path: 'database', component: BcpDatabaseComponent },\n{ path: 'new_record', component: BcpNewRecordComponent},\n{ path: 'database/entry', component: BcpRecordDetailComponent},\n{ path: 'recording', component: BcpHelpComponent},\n{ path: 'login', component: BcpLoginComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'bcp';\n}\n","<mat-sidenav-container fullscreen>\n  <mat-sidenav-content fxLayout=\"column\">\n    <mat-toolbar color=\"primary\" class=\"fixed-top\">\n      <button mat-button routerLink=\"/\">\n        <div class=\"navbar-brand\">\n          <img class=\"img-responsive m0 p0\" height=\"50\" src=\"../assets/ultima-ratio-logo.jpg\">\n        </div>\n      </button>\n      <div fxLayout=\"row\" fxHide fxShow.gt-xs>\n          <button mat-button routerLink=\"/database\">Database</button>\n          <button mat-button routerLink=\"/new_record\">New Record</button>\n      </div>\n      <span class=\"fill-remaining-space\"></span>\n      <button mat-button routerLink=\"login\">\n        <mat-icon>account_circle</mat-icon>\n      </button> \n      <button mat-button [mat-menu-trigger-for]=\"menu\" fxShow fxHide.gt-xs>\n      <mat-icon>menu</mat-icon>\n      </button>\n    </mat-toolbar>\n    \n    <mat-menu x-position=\"before\" #menu>\n      <mat-action-list>\n        <button mat-list-item routerLink=\"/database\">Database</button>\n        <button mat-list-item routerLink=\"/new_record\">New Record</button>\n      </mat-action-list>\n    </mat-menu>\n\n    <router-outlet></router-outlet>\n    <div class=\"w-100\" style=\"font-size:50%;\" > <p class=\"text-center\">Website <mat-icon style=\"font-size:50%;\">copyright</mat-icon> <a href=\"https://runette.co.uk\" target=\"_blank\">Runette Software Ltd 2020</a></p></div>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {FlexLayoutModule} from \"@angular/flex-layout\";\nimport {GoogleMapsModule} from '@angular/google-maps';\nimport { NgxAuthFirebaseUIModule } from 'ngx-auth-firebaseui';\nimport { AngularFireModule } from '@angular/fire';\nimport { environment } from '../environments/environment';\n\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {LayoutModule} from '@angular/cdk/layout';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatListModule} from '@angular/material/list';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatRadioModule} from '@angular/material/radio';\n\n\nimport { BcpHomeComponent } from './bcp-home/bcp-home.component';\nimport { BcpDatabaseComponent } from './bcp-database/bcp-database.component';\nimport { BcpNewRecordComponent } from './bcp-new-record/bcp-new-record.component';\nimport { GooglemapLocateComponent } from './googlemap-locate/googlemap-locate.component';\nimport { BcpDataCardComponent } from './bcp-data-card/bcp-data-card.component';\nimport { BcpRecordDetailComponent } from './bcp-record-detail/bcp-record-detail.component';\nimport {BcpRecordObserverComponent} from './bcp-record-observer/bcp-record-observer.component';\nimport { BcpRecordReporterComponent } from './bcp-record-reporter/bcp-record-reporter.component';\nimport { BcpRecordSurveyorComponent } from './bcp-record-surveyor/bcp-record-surveyor.component';\nimport { BcpList2stringPipe } from './bcp-list2string.pipe';\nimport { BcpHelpComponent } from './bcp-help/bcp-help.component';\nimport { BcpLoginComponent } from './bcp-login/bcp-login.component';\n \n\n@NgModule({\n  declarations: [\n    AppComponent,\n    BcpHomeComponent,\n    BcpDatabaseComponent,\n    BcpNewRecordComponent,\n    GooglemapLocateComponent,\n    BcpDataCardComponent,\n    BcpRecordDetailComponent,\n    BcpRecordObserverComponent,\n    BcpRecordReporterComponent,\n    BcpRecordSurveyorComponent,\n    BcpList2stringPipe,\n    BcpHelpComponent,\n    BcpLoginComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatToolbarModule,\n    LayoutModule,\n    FlexLayoutModule,\n    MatMenuModule,\n    MatButtonModule,\n    MatIconModule,\n    GoogleMapsModule,\n    MatExpansionModule,\n    MatListModule,\n    MatSlideToggleModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MatSelectModule,\n    MatFormFieldModule,\n    MatButtonToggleModule,\n    MatSidenavModule,\n    MatInputModule,\n    MatChipsModule,\n    BrowserModule,\n    //AngularFireModule.initializeApp(environment.firebase),\n    NgxAuthFirebaseUIModule.forRoot(environment.firebaseui),\n    MatGridListModule,\n    MatRadioModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport {Observable} from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport {environment} from '../environments/environment';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcpApiService {\n\n  FETCH_USER = `${environment.apiUrl}/fetch_user`;\n  FETCH_MAP = `${environment.apiUrl}/fetch_map`;\n\n  constructor(private auth: AngularFireAuth, private http: HttpClient) { }\n\n  public getToken():Promise<string> {\n    let thisToken: string;\n    return this.auth.idToken.toPromise();\n  }\n\n  public apiPost(token: string, url:string, body: {} = {}): Observable<object> {\n    return this.http.post(\n      url, body,{\n        headers: {\n        'Authorization': `Bearer ${token}`\n        },\n        responseType: 'json'\n  })};\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { DataItem } from '../bcp-map-data.service';\n\n@Component({\n  selector: 'app-bcp-data-card',\n  templateUrl: './bcp-data-card.component.html',\n  styleUrls: ['./bcp-data-card.component.css']\n})\nexport class BcpDataCardComponent implements OnInit {\n  @Input()\n  record: DataItem\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<div class=\"info\" >\n    <div class=\"card\">\n        <div class=\"row no-gutters\">\n            <div class=\"col-2\">\n                <img class=\"card-img m-1\" [src]=\"record.thumbnail ? record.thumbnail : '../assets/32x32.png'\"  width=\"32px\"/>\n            </div>\n            <div class=\"col-10\">\n                <div class=\"card-body\">\n                    <div class=\"h6 card-title text-truncate\">\n                        {{record.displayName}}\n                    </div>\n                    <div class=\"card-text\">\n                        <p>\n                            <small class=\"text-mute\" *ngIf=\"record.category && record.category != 'Not Known'\">{{record.category}}, </small>\n                            <small class=\"text-mute\" *ngIf=\"record.material && record.material != 'Not Known'\">{{record.material}}</small>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","///<reference types='googlemaps' />\n///<reference path='../googlemap-locate/google-locate-control.ts' />\nimport { Component, ViewChild, OnInit} from '@angular/core';\nimport {GoogleMap, MapInfoWindow, MapMarker} from '@angular/google-maps';\nimport { BcpFilterValuesService, Material, GunCategory, RecordStatus, RecordQuality, Order } from '../bcp-filter-values.service';\nimport { BcpMapDataService, DataItem } from '../bcp-map-data.service';\nimport { MatSlideToggleChange } from '@angular/material/slide-toggle';\nimport {LocateControlOptions} from '../googlemap-locate/google-locate-control';\nimport {MarkerClustererOptions} from '@google/markerclustererplus';\nimport MarkerClusterer from '@google/markerclustererplus';\n\n\n@Component({\n  selector: 'app-bcp-database',\n  templateUrl: './bcp-database.component.html',\n  styleUrls: ['./bcp-database.component.scss']\n})\nexport class BcpDatabaseComponent implements OnInit{\n  options: google.maps.MapOptions = {\n    zoom: 2,\n    center: {lat: 0, lng: 0},\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    zoomControl: true,\n    zoomControlOptions:{\n        position: google.maps.ControlPosition.LEFT_BOTTOM},\n    mapTypeControl: false,\n    scaleControl: true,\n    streetViewControl: false,\n    rotateControl: true,\n    fullscreenControl: false,\n  } \n  locateOptions: LocateControlOptions= {\n    position: google.maps.ControlPosition.LEFT_BOTTOM,\n    pan: true,\n    zoom: true,\n    zoomTo: 17\n  }\n  clusterOptions: MarkerClustererOptions = {\n    averageCenter: true,\n    maxZoom: 12,\n    imagePath: '../assets/m',\n  }\n  \n  invisMarker: google.maps.ReadonlyMarkerOptions = {visible: false, opacity: 0};\n\n  map: google.maps.Map;\n  @ViewChild(GoogleMap, {static: false}) my_map: GoogleMap;\n  @ViewChild(MapInfoWindow, {static: false}) mapInfo: MapInfoWindow;\n  @ViewChild(MapMarker, {static: false}) mapMarker: MapMarker;\n  mc: MarkerClusterer;\n\n  cluster: boolean= false;\n  here: boolean=false;\n  hereText:string=\"All\";\n  ownText:string=\"Everyone\";\n  clusterText:string=\"Ungrouped\";\n  selectedMarker: DataItem[];\n\n  constructor(public FILTER_TEXT: BcpFilterValuesService, public data: BcpMapDataService) { }\n\n  ngOnInit():void {\n    this.data.$newData.subscribe({\n      next: () => this.loadMarkers()\n    });\n    this.selectedMarker=[]\n    \n  }\n\n\n  loaded($event) {\n    if (!this.map) {\n      this.map = this.my_map._googleMap;\n      this.mc = new MarkerClusterer(this.map, [], this.clusterOptions );\n    }\n  }\n\n  setCategory (cat: GunCategory) {\n    this.data.gunCategory = cat;\n    this.data.setFilter();\n  }\n\n  setMaterial (mat: Material) {\n    this.data.material = mat;\n    this.data.setFilter();\n  }\n\n  setQuality (qual: RecordQuality) {\n    this.data.recordQuality = qual;\n    this.data.setFilter();\n  }\n\n  setOrder (order: Order) {\n    this.data.order = order;\n  }\n\n  setCluster ($event: MatSlideToggleChange) {\n    this.cluster = $event.checked;\n    if ($event.checked) this.clusterText=\"Grouped\"; else this.clusterText=\"Ungrouped\";\n  }\n\n  setOwn ($event: MatSlideToggleChange) {\n    this.data.ownRecords = $event.checked;\n    if ($event.checked) this.ownText=\"Mine\"; else this.ownText=\"Everyone\";\n  }\n\n  setHere($event: MatSlideToggleChange) {\n    this.here = $event.checked;\n    if ($event.checked) this.hereText=\"Here\"; else this.hereText=\"All\";\n  }\n\n  onZoomEnd($event):void{\n\n  }\n\n  public loadMarkers( ) {\n    if (this.mc) {\n      let mapInfo = this.mapInfo;\n      let mapMarker = this.mapMarker;\n      let data = this.data;\n      let selectedMarker = this.selectedMarker;\n      let markers: google.maps.Marker[] = [];\n      // var entry: DataItem;\n      for (let i=0; i< this.data.filteredData.length; i++) {\n        let entry = this.data.filteredData[i];\n        let options: google.maps.ReadonlyMarkerOptions = {\n          draggable: false,\n        }\n        let icon: google.maps.Icon = {'url':''};\n        if (entry.quality == this.FILTER_TEXT.RECORD_QUALITIES[1]) icon.url = '../assets/cannon_bronze.png';\n        else if (entry.quality == this.FILTER_TEXT.RECORD_QUALITIES[2]) icon.url = '../assets/cannon_silver.png';\n        else if (entry.quality == this.FILTER_TEXT.RECORD_QUALITIES[3]) icon.url = '../assets/cannon_gold.png';\n        let marker=new google.maps.Marker(options);\n        marker.setPosition(entry.location);\n        marker.setIcon(icon);\n        marker.addListener('click', function (e) {\n          selectedMarker[0] = data.filteredData.find(item => item.location == this.getPosition())\n          mapMarker._marker = this;\n          mapInfo.open(mapMarker);\n      });\n        markers.push(marker)};\n      this.mc.clearMarkers();\n      this.mc.addMarkers(markers);\n    }\n  }\n\n}\n","<!--- The Map -->\n<div class=\"map-container fill-remaining-space\">\n<google-map height=\"100%\"\n            width=\"100%\"\n            [options]=\"options\"\n            (tilesloaded)=\"loaded($event)\"\n            (zoomend)=\"onZoomEnd($event)\"\n>\n<map-marker #marker [options]=\"invisMarker\"\n[position]=\"{lat:0,lng:0}\"></map-marker>\n<map-info-window><app-bcp-data-card *ngIf=\"selectedMarker[0]\" [routerLink]=\"['entry']\" [queryParams]=\"{gunid:selectedMarker[0].gunid}\"\n    [record]=\"selectedMarker[0]\" \n></app-bcp-data-card></map-info-window>\n</google-map>\n<div class=\"bounding-box\" fxHide fxShow.gt-sm></div>\n</div>\n<app-googlemap-locate\n            [options]=\"locateOptions\"\n            [(map)]=\"map\"\n></app-googlemap-locate>\n\n<!---  The FAB -->\n<button mat-fab routerLink=\"/new_record\" color=\"primary\" ngClass='fab'>\n    <mat-icon color='accent' ngClass='fab-text'>\n        add\n    </mat-icon>\n</button>\n\n<!-- The Filter Bar-->\n<mat-toolbar class=\"map-nav-wide bg-ur\" fxLayout=\"row\" fxHide fxShow.gt-sm>\n    <div class=\"row\">\n        <div class=\"col-2\">\n            <button mat-button [matMenuTriggerFor]=\"typeMenu\"><div class=\"row\">Type</div><div class=\"row\"><small class=\"text-muted\" *ngIf=\" data.gunCategory != 'All'\">{{data.gunCategory}}</small></div></button>\n        </div>\n        <div class=\"col-2\">\n            <button mat-button [matMenuTriggerFor]=\"materialMenu\"><div class=\"row\">Material</div><div class=\"row\"> <small class=\"text-muted\" *ngIf=\" data.material != 'All'\">{{data.material}}</small></div></button>\n        </div>\n        <div class=\"col-2\">\n            <button mat-button [matMenuTriggerFor]=\"statusMenu\"><div class=\"row\">Status</div><div class=\"row\"><small class=\"text-muted\" *ngIf=\" data.recordQuality != 'All'\">{{data.recordQuality}}</small></div> </button>\n        </div>\n        <div class=\"col-2\">\n            <button mat-button [matMenuTriggerFor]=\"orderMenu\"><div class=\"row\">Order</div><div class=\"row\"><small class=\"text-muted\" *ngIf=\" data.order != 'Order'\">{{data.order}}</small></div> </button>\n        </div>\n        <div class=\"col-2\">\n            <mat-slide-toggle\n                class=\"\"\n                [color]=\"'accent'\"\n                [checked]=\"here\"\n                (change)=\"setHere($event)\">\n                <span class=\"toggle-content\">{{hereText}}</span>\n            </mat-slide-toggle>\n        </div>\n        <div class=\"col-2\">\n            <div class=\"row\">\n                <mat-slide-toggle\n                    class=\"\"\n                    [color]=\"'accent'\"\n                    [checked]=\"cluster\"\n                    (change)=\"setCluster($event)\">\n                    <span class=\"toggle-content\">{{clusterText}}</span>\n                </mat-slide-toggle>\n            </div>\n            <div class=\"row\">   \n                <mat-slide-toggle\n                    class=\"\"\n                    [color]=\"'accent'\"\n                    [checked]=\"data.ownRecords\"\n                    (change)=\"setOwn($event)\">\n                    <span class=\"toggle-content\">{{ownText}}</span>\n                </mat-slide-toggle>\n            </div>\n        </div>\n      </div>\n</mat-toolbar>\n\n<mat-expansion-panel class=\"map-nav bg-ur\" fxLayout=\"row\" fxShow fxHide.gt-sm>\n    <mat-expansion-panel-header>\n        <mat-panel-title>\n        </mat-panel-title>\n        <mat-panel-description>\n        </mat-panel-description>\n    </mat-expansion-panel-header>\n    <mat-action-list>\n        <button mat-list-item [matMenuTriggerFor]=\"typeMenu\">Type<small class=\"text-muted\" *ngIf=\" data.gunCategory != 'All'\"> {{data.gunCategory}}</small> </button>\n        <button mat-list-item [matMenuTriggerFor]=\"materialMenu\">Material<small class=\"text-muted\" *ngIf=\" data.material != 'All'\"> {{data.material}}</small></button>\n        <button mat-list-item [matMenuTriggerFor]=\"statusMenu\">Status<small class=\"text-muted\" *ngIf=\" data.recordQuality != 'All'\"> {{data.recordQuality}}</small></button>\n        <button mat-list-item [matMenuTriggerFor]=\"orderMenu\">Order <small class=\"text-muted\" *ngIf=\" data.order != 'Order'\">{{data.order}}</small></button>\n    <mat-slide-toggle mat-list-item\n          class=\"\"\n          [color]=\"'accent'\"\n          [checked]=\"cluster\"\n          (change)=\"setCluster($event)\">\n        Ungrouped\n      </mat-slide-toggle>\n      <mat-slide-toggle mat-list-item\n          class=\"\"\n          [color]=\"'accent'\"\n          [checked]=\"data.ownRecords\"\n          (change)=\"setOwn($event)\">\n        All\n      </mat-slide-toggle>\n    </mat-action-list>\n</mat-expansion-panel>\n\n<!-- The Entry Table -->\n<div class=\"float-table-wide bg-ur\" id=\"table-entries\" fxHide fxShow.gt-sm>\n    <div class=\"w-100 p-1\" *ngFor=\"let record of data.filteredData\">\n            <app-bcp-data-card [routerLink]=\"['entry']\" [queryParams]=\"{gunid:record.gunid}\"\n                [record]=\"record\" \n            ></app-bcp-data-card>\n    </div>\n</div>\n\n<div class=\"float-table bg-ur\" id=\"table-entries\" fxShiw fxHide.gt-sm>\n    <div class=\"w-100 p-1\" *ngFor=\"let record of data.filteredData\">\n            <app-bcp-data-card [routerLink]=\"['entry']\" [queryParams]=\"{gunid:record.gunid}\"\n                [record]=\"record\" \n            ></app-bcp-data-card>\n    </div>\n</div>\n\n<!-- The Filter Menus -->\n<mat-menu #typeMenu=\"matMenu\">\n    <div *ngFor=\"let item of FILTER_TEXT.GUN_CATEGORIES\">\n        <button mat-menu-item (click)=\"setCategory(item)\">{{item}}</button>\n    </div>\n</mat-menu>\n\n<mat-menu #materialMenu=\"matMenu\">\n    <div *ngFor=\"let item of FILTER_TEXT.MATERIAL\">\n        <button mat-menu-item (click)=\"setMaterial(item)\">{{item}}</button>\n    </div>\n</mat-menu>\n\n<mat-menu #statusMenu=\"matMenu\">\n    <div *ngFor=\"let item of FILTER_TEXT.RECORD_QUALITIES\">\n        <button mat-menu-item (click)=\"setQuality(item)\">{{item}}</button>\n    </div>\n</mat-menu>\n\n<mat-menu #orderMenu=\"matMenu\">\n    <button mat-menu-item (click)=\"setOrder('Order')\">Order</button>\n    <button mat-menu-item (click)=\"setOrder('Date Ascending')\">Date Ascending</button>\n    <button mat-menu-item (click)=\"setOrder('Date Descending')\">Date Descending</button>\n</mat-menu>\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcpFilterValuesService {\n\n  MATERIAL: string[] = [\"All\", \"Not Known\", \"Cast Iron\", \"Wrought Iron\", \"Bronze\", \"Combined Cast and Wrought Iron\"];\n  RECORD_QUALITIES: string[] =  [\"All\", 'Observer', \"Recorder\", \"Surveyor\"];\n  GUN_CATEGORIES: string[] = [ \"All\", \"Not Known\",\"Muzzle Loading\", \"Breech Loading\", \"Carronade\"];  \n  RECORD_STATUS: string[] = [\"All\", 'Unverified', 'Auto' , 'Verified']\n\n\n  constructor() { }\n}\n\nexport type Material =  \"All\" | \"Not Known\" | \"Cast Iron\" | \"Wrought Iron\" | \"Bronze\" | \"Combined Cast and Wrought Iron\";\nexport type RecordQuality =  'All' | 'Observer'| \"Recorder\" | \"Surveyor\";\nexport type GunCategory =  \"All\" | \"Not Known\" | \"Muzzle Loading\" | \"Breech Loading\" | \"Carronade\";  \nexport type RecordStatus = \"All\"| 'Unverified' | 'Auto' | 'Verified';\nexport type Order = \"Order\" | \"Date Ascending\" | \"Date Descending\" ;\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bcp-help',\n  templateUrl: './bcp-help.component.html',\n  styleUrls: ['./bcp-help.component.css']\n})\nexport class BcpHelpComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container my-5\">\n    <div class=\"jumbotron p-3 p-md-5 text-white rounded bg-dark\">\n    <div class=\"col-md-9 px-0\">\n        <h1 class=\"display-4 font-italic\">Recording a Cannon</h1>\n        <p class=\"lead my-3\">Our recording system allows you to record as little or as much data as you like. The database has been set up to allow people to record information directly on site using a mobile device (tablet or smart phone) or from information they already have stored on their computer.\n    </p><p class=\"lead my-3\">\n        Recording is split into three levels depending on the level of detail: Observer, Recorder and Surveyor.\n    </p><p class=\"lead my-3\">\n        The observer level record only needs to a picture and a location. This is the basic information needed to create a record.\n    </p><p class=\"lead my-3\">\n        At the recorder level, you can add basic measurements about the gun\n    </p><p class=\"lead my-3\">\n        The surveyor level asks you to look at the cannon in more detail and record patterns and shapes.\n    </p><p class=\"lead my-3\">\n        Once you have created a record you can come back to it and either add or modify the information.\n    </p><p class=\"lead my-3\">\n        Our world map of guns allows you to see where guns are, and how much information about each one has been documented You can view basic information about a record without logging into the site but to see full the full information you need to register and log in  \n\n        </p>\n        <a class=\"btn btn-small btn-primary\" role=\"button\" href=\"http://www.3hconsulting.com/techniques/TechRecordingCannon.html\"> Learn More about Recording Guns</a>\n    </div>\n    </div>\n\n    <hr class=\"featurette-divider\">\n    <div class=\"row featurette\">\n        <div class=\"col-md-7\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide1.JPG\" alt=\"Generic placeholder image\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide2.JPG\" alt=\"Generic placeholder image\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide3.JPG\" alt=\"Generic placeholder image\">\n        </div>\n        <div class=\"col-md-5\">\n        <h2 class=\"featurette-heading\"><span class=\"text-muted\">Login in</span></h2>\n        <p class=\"lead\">To create new records, you must be logged into the site.</p>\n        </div>\n        \n    </div>\n\n    <hr class=\"featurette-divider\">\n\n            <div class=\"row featurette\">\n            <div class=\"col-md-5\">\n                <h2 class=\"featurette-heading\"><span class=\"text-muted\">Check the Database</span></h2>\n                <p class=\"lead\">The First step is to check the database to see what is in the database already. Look on the map at the current location and see if the cannon is already in the database. You can use the ‘target’ button the map screen to use your phone to zoom into your current location. If the record already exists - you can add photos but cannot change any details at the moment. That ability should be coming soon, when we have worked out how to keep track of changes.</p>\n            </div>\n            <div class=\"col-md-7\">\n                <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide0.JPG\" alt=\"Generic placeholder image\">\n            </div>\n            </div>\n\n    <hr class=\"featurette-divider\">\n\n            <div class=\"row featurette\">\n            <div class=\"col-md-7\">\n                <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide4.JPG\" alt=\"Generic placeholder image\">\n                <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide5.JPG\" alt=\"Generic placeholder image\">\n            </div>\n            <div class=\"col-md-5\">\n                <h2 class=\"featurette-heading\"><span class=\"text-muted\">Entering a location (observer)\n                </span></h2>\n                <p class=\"lead\">When you enter a new record, you will be taken to the location page. You can either enter the location manually or by moving the cannon icon to your cannon’s location.\n                </p> <p class=\"lead\">If you are at the site of the cannon and are connected to the internet and have a GPS enabled device, you can use your current location to record where the cannon is.\n                </p> <p class=\"lead\">Once you have recorded and accepted the cannon location you will be asked to provide the correct site name. We use a standard set of location IDs provided by Google Maps to mark the nearest landmark. Scroll up and down the list to pick the most appropriate (Use the town as a default if you are not sure of the exact location description).\n                </p> <p class=\"lead\">If you made a mistake and chose the wrong location, don’t worry. You get a chance to fix that at the end of the process.\n                </p>\n            </div>\n            </div>\n            \n    <hr class=\"featurette-divider\">\n    <div class=\"row featurette\">\n        <div class=\"col-md-5\">\n        <h2 class=\"featurette-heading\"><span class=\"text-muted\">Entering an image (observer)</span></h2>\n        <p class=\"lead\">Once you have accepted the location you will be taken to the “ Add photo of the gun” screen.\n        </p><p class=\"lead\">Click “Browse” and this will take you to where you can access images of your gun on your computer. If you are using a smartphone and are out in the field you also have the option of using your camera to take “live” photos.\n        </p><p class=\"lead\">Once you have selected your image press “upload”. \n        </p><p class=\"lead\">We suggest your first photo is of the whole gun\n            </p>\n        </div>\n        <div class=\"col-md-7\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide6.JPG\" alt=\"Generic placeholder image\">\n        </div>\n    </div>\n    \n    <hr class=\"featurette-divider\">\n    <div class=\"row featurette\">\n        <div class=\"col-md-5\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide7.JPG\" alt=\"Generic placeholder image\">\n        </div>\n        <div class=\"col-md-7\">\n        <h2 class=\"featurette-heading\"><span class=\"text-muted\">Recording basic information (observer)</span></h2>\n        <p class=\"lead\">\n            The Observer screen allows you to enter basic information about the gun and to upload more photos . We suggest uploading photos in ones and twos at the moment. \n        </p>\n            <strong>Basic information</strong>\n            <dl class=\"row\">\n                <dt class=\"col-4\"><strong>Type of gun</strong></dt>\n                <dd class=\"col-8\">use the drop-down menu to choose the type of gun</dd>\n                <dt class=\"col-4\"><strong>Material </strong></dt>\n                <dd class=\"col-8\">use the drop-down menu to identify the material the gun is made from. </dd>\n                <dt class=\"col-4\"><strong>Short description </strong></dt>\n                <dd class=\"col-8\">add a short description of the gun, highlighting important features and any information known (calibre etc). If you are not adding the photographs “live” add the date photograph was taken. </dd>    \n                <dt class=\"col-4\"><strong>Author </strong></dt>\n                <dd class=\"col-8\">pre-populated ( if anon comes up overwrite with recorder name)</dd>\n                <dt class=\"col-4\"><strong>Date recorded </strong></dt>\n                <dd class=\"col-8\">pre-populated</dd>\n                <dt class=\"col-4\"><strong>Markings and information board </strong></dt>\n                <dd class=\"col-8\">highlight radio buttons if you can add information. Use the pop-up boxes to add information.</dd>\n            </dl>\n            \n            \n            <strong>Context</strong>\n            <dl class=\"row\">\n                <dt class=\"col-4\"><strong>Name</strong></dt>\n                <dd class=\"col-8\">defaults to Google location but you can overwrite it to give more detailed information about the gun location.</dd>\n                <dt class=\"col-4\"><strong>Location</strong></dt>\n                <dd class=\"col-8\">set to the Goggle location. Scroll up or down to modify.</dd>\n                <dt class=\"col-4\"><strong>Description of the cannon location</strong></dt>\n                <dd class=\"col-8\">add a short description of the specific location.</dd>\n                <dt class=\"col-4\"><strong>is this gun part of a museum….</strong></dt>\n                <dd class=\"col-8\">use the radio button to highlight and then add information about the collection. Add the collection reference if known.</dd>\n            </dl>\n        \n            <strong>Photos</strong> \n\n            Use the browse button to add more photographs of the cannon\n            \n        </div>\n    </div>\n    \n    <hr class=\"featurette-divider\">\n    <div class=\"row featurette\">\n        <div class=\"col-md-5\">\n        <h2 class=\"featurette-heading\"><span class=\"text-muted\">Recording Measurements (recorder)</span></h2>\n        <p class=\"lead\">\n            The recorder tab allows you to enter physical measurements about the gun. \n        </p><p class=\"lead\">Use the radio button to decide on measurement units ( m / mm ). \n        </p><p class=\"lead\"> The drawing currently shows a “standard” cannon but as the project develops we hope to add recording sheets based around carronades & mortars.\n        </p><p class=\"lead\">In the meantime, please add whatever measurements you can for the gun you are recording.\n        </p><p class=\"lead\">After entering data press the save icon before moving on.\n        </p>\n        </div>\n        <div class=\"col-md-7\">\n        <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide8.JPG\" alt=\"Generic placeholder image\">\n        </div>\n    </div>\n    \n    <hr class=\"featurette-divider\">\n    <div class=\"row featurette\">\n        <div class=\"col-md-7\">\n            <img class=\"featurette-image img-fluid mx-auto\" src=\"/img/Slide9.JPG\" alt=\"Generic placeholder image\">\n        </div>\n        <div class=\"col-md-5\">\n        <h2 class=\"featurette-heading\"><span class=\"text-muted\">Analysing patterns and shapes  (surveyor)</span></h2>\n        <p class=\"lead\">\n            The surveyor tab allows you to input  more detailed information about the cannon.\n            It has four sections.\n        </p>\n        <dl class=\"row\">\n            <dt class=\"col-4\"><strong>Moulding codes</strong></dt>\n            <dd class=\"col-8\">details about the moulding patterns on the reinforcing rings</dd>\n            <dt class=\"col-4\"><strong>Muzzle code</strong></dt>\n            <dd class=\"col-8\">generic shape of the muzzle</dd>\n            <dt class=\"col-4\"><strong>Cascable code</strong></dt>\n            <dd class=\"col-8\">generic shape of the cascable</dd>\n            <dt class=\"col-4\"><strong>Button code </strong></dt>\n            <dd class=\"col-8\">generic shape of the button</dd>\n        </dl>\n\n            <p class=\"lead\">Clicking on a box expands it and shows you drawings to help you complete the code\n            </p><p class=\"lead\">After entering data press the save icon before moving on.\n            \n        </p>\n        </div>\n\n    </div>\n    \n    <hr class=\"featurette-divider\">\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bcp-home',\n  templateUrl: './bcp-home.component.html',\n  styleUrls: ['./bcp-home.component.scss']\n})\nexport class BcpHomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n<div class=\"container mt-5\">\n    <div class=\"jumbotron jumbotron-fluid text-center paral para01\" >\n        <div class=\"container\">\n            <h1><span class=\"display-4 text-white bg-site-dark p-3\">Big Cannon Project</span></h1>\n            <div class=\"d-flex justify-content-center pt-3\">\n                <div class=\"\">\n                    <a href=\"#about\" class=\"btn btn-primary align-middle\">Learn more</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"jumbotron jumbotron-fluid text-center bg-white\">\n        <div class=\"container\">\n            <h3 >Gun Database</h3>\n            <p class=\"bold\">The database allows individual recorders to upload their gun records, to improve them over time and to view all the other guns that have been recorded around the world. The project database is linked to a world map so that gun records can be viewed in geographical context.</p>\n            <a href=\"/database\" class=\"btn btn-primary align-middle\">Explore the Guns</a>\n\n        </div>\n    </div>\n\n    <div class=\"jumbotron jumbotron-fluid text-center paral para02\">\n        <div class=\"container\">\n                    <h3 class=\"text-white\" style=\"text-shadow: #444 0 1px 1px;\">Recording</h3>\n                    <span class=\"img-back bg-dark d-block\"><p class=\"img-text bold\" style=\"text-shadow: #444 0 1px 1px;\">Our recording system allows you to record as little or as much data as you like. For Bronze level records, Observers only need to upload a picture and a location. Recorders can create Silver level records by identifying key physical features of the gun. At the Surveyor level, you can provide full dimensions to achieve Gold and be a Surveyor.\n                    Our world map of guns allows you to see where guns are and how much information about each one has been documented.</p></span>\n                    <button class=\"btn btn-small btn-primary\" role=\"button\" routerLink=\"recording\"> How to Record Guns</button>\n            </div>\n    </div>\n\n\n    <div class=\"jumbotron jumbotron-fluid text-center bg-white\" id=\"about\">\n        <div class=\"container\">\n            <div id=\"picture-carousel\" class=\"container pictures d-none d-md-flex\">\n            </div>\n            <h1>About the Project</h1>\n            <p>\n                The Ultima Ratio Project aims to develop a centralised database of historical muzzle-loading artillery guns.\n            </p><p>\n                Launched in June 2018, the Project seeks to engage with scholars, curators, arms specialists, historical preservation organisations, individual researchers, and other key stakeholders in recording the history of important muzzle-loading ‘big guns’, and making such data publicly available.\n            </p><p>\n                In addition to the ongoing database development, the Project produces short articles highlighting interesting or noteworthy historical  guns.\n            </p><p>\n                The name of the project is derived from the Latin phrase ‘Ultima Ratio Regum’, often translated as ‘the final argument of kings’. This phrase adorned some French cannon, initially by order of Louis XIV (1638–1715), but has come to be synonymous with artillery more generally.\n            </p><p>\n                The Ultima Ratio Project is administered by Armament Research Services (ARES), a specialist intelligence consultancy. ARES also provides financial assistance to the Project.\n            </p>\n        </div><!-- end box -->\n    </div>\n\n    <div class=\"d-flex flex-row justify-content-around pt-3\">\n        <a href=\"/privacy\" class=\"iubenda-white iubenda-embed\" title=\"Privacy Policy \">Privacy Policy</a><script type=\"text/javascript\">(function (w,d) {var loader = function () {var s = d.createElement(\"script\"), tag = d.getElementsByTagName(\"script\")[0]; s.src=\"https://cdn.iubenda.com/iubenda.js\"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener(\"load\", loader, false);}else if(w.attachEvent){w.attachEvent(\"onload\", loader);}else{w.onload = loader;}})(window, document);</script>\n        <a class=\"btn btn-sm btn-light\" role=\"button \" href=\"/tor\">Terms and Conditions of Access </a>\n    </div>\n\n    <div class=\"row pt-3\">\n        <div class=\"col-sm\">\n            <a href=\"http://armamentresearch.com/\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/Ares_Logo-3.png\" height=\"50px\"> </a>\n        </div><div class=\"col-sm\">\n            <a class=\"thin\" href=\"https://www.nauticalarchaeologysociety.org/\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/NAS-Square-Logo-Dark-Blue.png\" height=\"70px\" alt=\"\" /></a>\n        </div><div class=\"col-sm\">\n            <a class=\"thin\" href=\"http://www.basiliscoe.com/\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/basiliscoe.png\" height=\"70px\" alt=\"\" /></a>\n        </div>\n\n        <div class=\"col-sm\">\n            <a class=\"thin\" href=\"http://www.cismas.org.uk/\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/cismas.png\" height=\"50px\" alt=\"\" /></a>\n        </div>\n        <div class=\"col-sm\">\n            <a class=\"thin\" href=\"https://msdsmarine.com/\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/MSDS-768.png\" height=\"50px\" alt=\"\" /></a>\n        </div>\n        <div class=\"col-sm\">\n            <a class=\"thin\" href=\"https://runette.co.uk\" target=\"_blank\"><img class=\"rounded mx-auto d-block\" src=\"../../assets/runette_long.png\" height=\"30px\" alt=\"\" /></a>\n        </div>\n    </div>\n</div>\n\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'List2string'\n})\nexport class BcpList2stringPipe implements PipeTransform {\n\n  transform(value: string[], ): string {\n\n    return value.join();\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NgxAuthFirebaseUIConfigToken } from 'ngx-auth-firebaseui/lib/tokens';\nimport { NgxAuthFirebaseUIModule } from 'ngx-auth-firebaseui';\n\n\n@Component({\n  selector: 'app-bcp-login',\n  templateUrl: './bcp-login.component.html',\n  styleUrls: ['./bcp-login.component.css']\n})\nexport class BcpLoginComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  success(event) {\n    console.log('success');\n    console.log(event);\n}\n\n  error(event) {\n    console.log('error');\n    console.error(event);\n}\n\n}\n","<ngx-auth-firebaseui (onSuccess)=\"success($event)\"\n                     (onError)=\"error($event)\">\n</ngx-auth-firebaseui>\n","import { Injectable } from '@angular/core';\nimport {  Material, GunCategory, RecordStatus, RecordQuality, Order } from './bcp-filter-values.service';\nimport {BcpUserService} from './bcp-user.service'\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport {BcpApiService} from './bcp-api.service';\nimport {Subject} from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcpMapDataService {\n\n  private _material: Material = \"All\";\n  private _gunCategory: GunCategory = \"All\";\n  private _recordQuality : RecordQuality = \"All\";\n  private _recordStatus : RecordStatus = \"All\";\n  private _order : Order = \"Order\";\n  private _ownRecords : boolean = false;\n  private _boundingBox: google.maps.LatLngBounds;\n\n  filteredData: MapData;\n  $newData: Subject<string>;\n\n  private data : MapData;\n\n  constructor(private user: BcpUserService, private auth: AngularFireAuth, private api: BcpApiService) { \n\n    auth.auth.onAuthStateChanged( user => {\n      if (user) {\n        this.getMapData()\n      }\n    });\n\n    this.$newData = new Subject<string>();\n\n  }\n\n  set material(value: Material) {\n    this._material = value;\n    this.setFilter();\n  }\n  get material():Material{\n    return this._material;\n  }\n\n  set gunCategory(value: GunCategory) {\n    this._gunCategory = value;\n    this.setFilter();\n  }\n  get gunCategory():GunCategory{\n    return this._gunCategory;\n  }\n\n  set recordQuality(value: RecordQuality) {\n    this._recordQuality = value;\n    this.setFilter();\n  }\n  get recordQuality():RecordQuality{\n    return this._recordQuality;\n  }\n\n  set recordStatus(value: RecordStatus) {\n    this._recordStatus = value;\n    this.setFilter();\n  }\n  get recordStatus():RecordStatus{\n    return this._recordStatus;\n  }\n\n  set order(value: Order) {\n    this._order = value;\n    this.setFilter();\n  }\n  get order():Order{\n    return this._order;\n  }\n\n  set ownRecords(value: boolean) {\n    this._ownRecords = value;\n    this.setFilter();\n  }\n  get ownRecords():boolean{\n    return this._ownRecords;\n  }\n\n  set boundingBox(bbox: google.maps.LatLngBounds) {\n    this._boundingBox = bbox;\n    this.setFilter();\n  }\n\n  get boundingBox(): google.maps.LatLngBounds {\n    return this._boundingBox;\n  }\n\n\n  public setFilter():void {\n    this.filteredData=this.data.filter(item => {\n      return  (this.gunCategory === 'All' || item.category == this.gunCategory) && \n              (this.material === 'All' || item.material == this.material) && \n              (this.recordQuality === 'All' || item.quality == this.recordQuality) &&\n              (this.recordStatus === 'All'|| item.status == this.recordStatus) &&\n              (!this.ownRecords || item.user_id == this.user.user.fireUserData.uid) \n    })\n    this.filteredData.sort( (a,b) => {\n      if (this.order === 'Order') return a.gunid - b.gunid;\n      if (this.order === \"Date Ascending\") return (a.date.getMilliseconds() - b.date.getMilliseconds())/10000;\n      if (this.order === \"Date Descending\") return (b.date.getMilliseconds() - a.date.getMilliseconds())/10000;\n    })\n    this.$newData.next(\"yes\");\n  }\n\n  \n  public getMapData(): void{\n    this.auth.idToken.subscribe(token => {\n      this.api.apiPost(token, this.api.FETCH_MAP ).subscribe(response => {\n          this.data = this.loadMapData(response['entries'] as [{[key:string]: any}]);\n          this.setFilter();\n      },\n      error => {})\n    },\n    error => {})\n  }\n\n\n\n  private loadMapData(data: [{[key:string]:any}]) : MapData {\n    let mapData : MapData = [];\n    for ( let i = 0; i < data.length; i++) {\n      mapData[i] = {};\n      if (data[i].hasOwnProperty('lat')) mapData[i].location = new google.maps.LatLng(data[i].lat, data[i].lng);\n      if (data[i].hasOwnProperty('date')) mapData[i].date = new Date(data[i].date);\n      let keys = ['gunid', 'material','quality', 'description', 'owner', 'site', 'displayName', 'context', 'collection', 'collName', 'collRef', 'images', 'markings', 'markDetails', 'interpretations', 'interDetails', 'country', 'geocode', 'userId', 'status', 'measurements', 'mouldingCode', 'muzzleCode', 'casCode', 'buttonCode', 'category', 'thumbnail' ];\n      let items = ['gunid', 'type','quality', 'description', 'owner', 'site', 'display_name', 'context', 'collection', 'coll_name', 'coll-ref', 'images', 'markings', 'mark_details', 'interpretations', 'inter_details', 'country', 'geocode', 'user_id', 'status', 'measurements', 'moulding_code', 'muzzle_code', 'cas_code', 'button_code', 'category' , 'thumbnail'];\n      \n      for (let j = 0; j < items.length; j++) if (data[i].hasOwnProperty(items[j])) mapData[i][keys[j]] = data[i][items[j]]\n    }\n    return mapData\n  }\n\n}\n\nexport interface DataItem {\n  gunid?: number;\n  images?: {[key:string]:string}[];\n  owner?: string;\n  location?: google.maps.LatLng;\n  material?: Material;\n  category?: GunCategory;\n  description?:string;\n  date?: Date;\n  site?: string;\n  displayName?: string;\n  context?: string;\n  collection?: boolean;\n  collName?: string;\n  collRef?: string;\n  markings?: boolean;\n  markDetails?: string;\n  interpretations?: boolean;\n  interDetails?: string;\n  country?: string;\n  geocode?: Geocode;\n  user_id?: string;\n  status?: RecordStatus;\n  measurements?: Measurements;\n  mouldingCode?: string;\n  muzzleCode?: string;\n  casCode?: string;\n  buttonCode?: string;\n  thumbnail?:string;\n  quality?: RecordQuality;\n}\n\nexport type MapData = DataItem[];\n\nexport interface Measurements {\n  scale: boolean;\n  length?: number;\n  baseRing?: number;\n  muzzle?: number;\n  bore?: number;\n  trunnionPosition?: number;\n  trunnionWidth?: number;\n  trunnionDiameter?: number;\n  trunnionOffset?: number;\n}\n\nexport interface Geocode{\n  places: [{[key:string]:string}];\n  geolocation: [{[key:string]:string}];\n  default?: string;\n  country?: string;\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bcp-new-record',\n  templateUrl: './bcp-new-record.component.html',\n  styleUrls: ['./bcp-new-record.component.scss']\n})\nexport class BcpNewRecordComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>bcp-new-record works!</p>\n","import { Component, OnInit, OnChanges} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { DataItem } from '../bcp-map-data.service';\nimport {BcpMapDataService} from '../bcp-map-data.service';\n\n\n@Component({\n  selector: 'app-bcp-record-detail',\n  templateUrl: './bcp-record-detail.component.html',\n  styleUrls: ['./bcp-record-detail.component.scss']\n})\nexport class BcpRecordDetailComponent implements OnInit, OnChanges {\n\n  gun: DataItem;\n  edit: boolean= false;\n  index: number;\n  currentScreen: string = \"observer\";\n\n\n\n  constructor(public request: ActivatedRoute, public mapData: BcpMapDataService ) {\n\n   }\n\n  ngOnChanges(): void {\n    let a;\n  }\n\n  ngOnInit(): void {\n    this.request.queryParamMap.subscribe(pmap => {\n      this.index = this.mapData.filteredData.findIndex(element => element.gunid ===  parseInt(pmap.get('gunid')));\n      this.gun = this.mapData.filteredData[this.index];\n    });\n  }\n}\n","\n<div class=\"container pt-5 pb-5\">\n    <form  #detail=\"ngForm\">\n        <div class=\"row p-3  bg-ur\" >\n            <div class=\"media\">\n                <a class=\"align-self-center mr-3 fancybox\" *ngIf=\"gun\" [href]=\"gun.images[0].original\"><img [src]=\"gun.images[0].s200\" height=\"70px\" alt=\"\"></a>\n            </div>\n            <div class=\"media-body  p-2\">\n                <div class=\"row\">\n                    <div class=\"col-sm-6\">\n                        <h2 *ngIf=\"gun\">Gun ID : {{ gun.gunid }}</h2>\n                    </div>\n                    <div class=\"col-sm-6\">\n                        <div class=\"float-right\" >\n                            <p class=\"text-muted\" *ngIf=\"!edit\"> Read-only </p>\n                            <button class=\"btn btn-secondary\" type=\"button\" onclick=\"link_here()\" data-toggle=\"popover\"  data-content=\"A permanent link to this record has been copied to the clipboard\">Link here</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"tab-content\" id=\"nav-tabContent\">\n            <bcp-record-observer *ngIf=\"currentScreen == 'observer'\"\n                [gun]=\"gun\"\n            ></bcp-record-observer>\n            <bcp-record-reporter *ngIf=\"currentScreen == 'reporter'\"\n                [gun]=\"gun\"\n            ></bcp-record-reporter>\n            <bcp-record-surveyor *ngIf=\"currentScreen == 'surveyor'\"\n                [gun]=\"gun\"\n            ></bcp-record-surveyor>\n        </div>\n    </form>\n    <button mat-fab routerLink=\"/new_record\" color=\"primary\" ngClass='fab'>\n        <mat-icon color='accent' ngClass='fab-text'>\n            add\n        </mat-icon>\n    </button>\n\n\n    <div class=\"row fixed-bottom  bg-light \">\n        <div class=\"col-3\">\n            <span class=\"btm-nav float-left mx-3 my-1 px-3\" onclick=\"last()\"><i class=\"arrow left\"></i><span class=\"d-none d-sm-inline\">Prev</span></span>\n        </div>\n        <div class=\"col-6\">\n            <div class=\"mx-auto\">\n                <mat-button-toggle-group appearance=\"legacy\" [(value)]=\"currentScreen\"> \n                    <mat-button-toggle  id=\"observer\" role=\"tab\" aria-controls=\"list-observer\" value=\"observer\" ><span class=\"d-inline d-sm-none\">O</span><span class=\"d-none d-sm-inline\">Observer</span></mat-button-toggle>\n                    <mat-button-toggle id=\"reporter\" role=\"tab\" aria-controls=\"list-reporter\" value=\"reporter\"><span class=\"d-inline d-sm-none\">R</span><span class=\"d-none d-sm-inline\">Reporter</span></mat-button-toggle>\n                    <mat-button-toggle id=\"surveyor\" role=\"tab\" aria-controls=\"list-surveyor\" value=\"surveyor\"><span class=\"d-inline d-sm-none\">S</span><span class=\"d-none d-sm-inline\">Surveyor</span></mat-button-toggle>\n                </mat-button-toggle-group>\n            </div> \n        </div>     \n        <div class=\"col-3\">\n            <span class=\" btm-nav float-right mx-3 my-1 px-3\" onclick=\"next()\"><span class=\"d-none d-sm-inline\">Next</span> <i class=\"arrow right\"></i> </span>\n        </div>\n    </div>\n</div>\n\n\n","///<reference types='googlemaps' />\nimport { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { ControlContainer, NgForm } from '@angular/forms';\nimport { DataItem } from '../bcp-map-data.service';\nimport {BcpFilterValuesService} from '../bcp-filter-values.service';\nimport {BcpUserService, BcpUser, BcpUserStanding} from '../bcp-user.service';\nimport {GoogleMap} from '@angular/google-maps';\n\n@Component({\n  selector: 'bcp-record-observer',\n  templateUrl: './bcp-record-observer.component.html',\n  styleUrls: ['./bcp-record-observer.component.css'],\n  viewProviders: [ { provide: ControlContainer, useExisting: NgForm } ]\n})\nexport class BcpRecordObserverComponent implements OnInit {\n\n  @Input()\n  gun: DataItem;\n\n  map: google.maps.Map;\n  @ViewChild(GoogleMap, {static: false}) my_map: GoogleMap;\n\n  locationView: string = \"latLng\";\n  marker: google.maps.Marker\n\n  options = {\n    zoom: 12,\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    zoomControl: true,\n    mapTypeControl: false,\n    scaleControl: true,\n    streetViewControl: false,\n    rotateControl: true,\n    fullscreenControl: true,\n    center:{lat:0, lng:0}\n}\n\n  constructor(public DATA_VALUES: BcpFilterValuesService, public user: BcpUserService ) { }\n\n  ngOnInit(): void {\n  }\n  \n  loaded($event) {\n    if (!this.map) {\n      this.map = this.my_map._googleMap;\n      this.map.setCenter(this.gun.location);\n      let options: google.maps.ReadonlyMarkerOptions = {\n        draggable: true,\n      }\n      let icon: google.maps.Icon = {'url':''};\n      if (this.gun.quality == this.DATA_VALUES.RECORD_QUALITIES[1]) icon.url = '../assets/cannon_bronze.png';\n      else if (this.gun.quality == this.DATA_VALUES.RECORD_QUALITIES[2]) icon.url = '../assets/cannon_silver.png';\n      else if (this.gun.quality == this.DATA_VALUES.RECORD_QUALITIES[3]) icon.url = '../assets/cannon_gold.png';\n      this.marker=new google.maps.Marker(options);\n      this.marker.setPosition(this.gun.location);\n      this.marker.setIcon(icon);\n      this.marker.setMap(this.map);\n    }\n  }\n\n  locationViewChange($event) {\n    this.locationView = $event.value\n  }\n\n  getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.showPosition, this.showError);\n    } else {\n          alert(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  private showPosition(position: Position) {\n    this.gun.location = new google.maps.LatLng(position.coords.latitude,position.coords.longitude );\n    this.resetMap;\n  }\n\n  private showError(error) {\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n          alert( \"User denied the request for Geolocation.\");\n          break;\n      case error.POSITION_UNAVAILABLE:\n          alert( \"Location information is unavailable.\");\n          break;\n      case error.TIMEOUT:\n          alert(\"The request to get user location timed out.\");\n          break;\n      case error.UNKNOWN_ERROR:\n          alert(\"An unknown error occurred.\");\n          break;\n    }\n  }\n\n  resetMap(): void {\n    this.map.setCenter(this.gun.location);\n    this.marker.setPosition(this.gun.location);\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-md-6\">\n        <table  class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n            <th colspan='4' scope=\"row\">Basic Information</th>\n            </thead>\n            <tbody>\n            <tr>\n                <td >Type of Gun</td>\n                <td colspan=\"3\"> \n                    <div class=\"border border-light\">\n                        <mat-select [(ngModel)]=\"gun.category\" name=\"category\">\n                            <mat-option *ngFor=\"let category of DATA_VALUES.GUN_CATEGORIES\" [value]=\"category\">\n                              {{category}}\n                            </mat-option>\n                          </mat-select>  \n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td>Material</td>\n                <td colspan=\"3\"> \n                    <div class=\"border border-light\">\n                        <mat-select [(ngModel)]=\"gun.material\" name=\"material\">\n                            <mat-option *ngFor=\"let material of DATA_VALUES.MATERIAL\" [value]=\"material\">\n                              {{material}}\n                            </mat-option>\n                          </mat-select>  \n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td >Short Desc</td>\n                <td colspan=\"3\">\n                    <textarea class=\"w-100\" rows=\"2\" name=\"description\" placeholder=\"Description\" [(ngModel)]=\"gun.description\">{{ gun.description }}</textarea> </td>\n            </tr>\n            <tr>\n                <td >Author</td>\n                <td><input class=\"form-control\" type=\"text\" name=\"name\" value=\"{{gun.owner }}\" placeholder=\"Owner\" readonly style=\"max-width:10em;\"></td>\n                <td>Date <span class=\"d-none d-md-inline\">Recorded</span></td>\n                <td class=\"\">{{gun.date | date:'shortDate'}}</td>\n            </tr>\n            </tbody>\n        </table>\n        <table *ngIf=\"user.login\" class=\"table table-striped\">\n            <tbody>\n            <tr>\n                <div class=\"row\">\n                    <div class=\"col-sm-6\">\n                        <mat-slide-toggle [(ngModel)]=\"gun.markings\" name=\"markings\">Markings?</mat-slide-toggle>\n                    </div>\n                    <div class=\"col-sm-6\">\n                        <mat-slide-toggle [(ngModel)]=\"gun.interpretations\" name=\"interpretations\">Information board?</mat-slide-toggle>\n                    </div>\n                </div>\n            </tr>\n            </tbody>\n        </table>\n        <table class=\"table table-striped\" *ngIf=\"user.login\">\n            <tbody>\n                <tr *ngIf=\"gun.markings\">\n                    <td>\n                        Describe the Markings\n                    </td>\n                    <td>\n                        <textarea class=\"w-100\" name=\"mark_details\" rows='2' placeholder=\"Details\" [(ngModel)]=\"gun.markDetails\">{{gun.markDetails}}</textarea>\n                    </td>\n                </tr>\n                <tr  *ngIf=\"gun.interpretations\">\n                    <td>\n                        What does the board say?\n                    </td>\n                    <td>\n                        <textarea class=\"w-100\" rows='2' name=\"inter_details\"  placeholder=\"Details\" [(ngModel)]=\"gun.interDetails\">{{gun.interDetails}}</textarea>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n\n    <div class=\"col-md-6\">\n        <table  class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n                <th colspan='2' scope=\"row\">Context</th>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>Name</td>\n                    <td><textarea class=\"w-100\" rows='1' name=\"display_name\" id=\"display_name\" placeholder=\"Give a name to the site\" [(ngModel)]=\"gun.displayName\">{{gun.displayName}}{</textarea></td>\n                </tr>\n                <tr>\n                    <td>Location</td>\n                    <td>\n                        <mat-select [(ngModel)]=\"gun.site\" name=\"site\">\n                            <mat-option *ngFor=\"let site of gun.geocode.places\" [value]=\"site.name\">\n                                {{site.name}}\n                            </mat-option>\n                            <mat-option *ngFor=\"let site of gun.geocode.geolocation\" [value]=\"site.formatted_address\">\n                                {{site.formatted_address}}\n                            </mat-option>\n                        </mat-select>  \n\n                    </td>\n                </tr>\n                <tr>\n                    <td>Description of Cannon Location</td>\n                    <td><textarea class=\"w-100\" rows='2' name=\"context\" placeholder=\"Describe context\" [(ngModel)]=\"gun.context\">{{gun.context}}</textarea></td>\n                </tr>\n                <tr *ngIf=\"user.login\">\n                    <td colspan='2'>\n                        <mat-slide-toggle [(ngModel)]=\"gun.collection\" name=\"collection\"><small class=\"text-wrap\">Is this gun part of a  museum, gallery or collection or on the grounds of a heritage site like a castle or recognised archeological site?</small></mat-slide-toggle>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <table class=\"table table-striped\" *ngIf=\"user.login && gun.collection\">\n            <tbody>\n                <tr >\n                    <td>Name of Museum / Gallery / Heritage Site / Collection</td>\n                    <td><textarea class=\"w-100\" rows='1' name=\"coll_name\" placeholder=\"Collection name\" [(ngModel)]=\"gun.collName\">{{gun.collName}}</textarea></td>\n\n                </tr>\n                <tr >\n                    <td>Collection Ref</td>\n                    <td><input class=\"w-100\" type=\"text\" name=\"coll_ref\" placeholder=\"Collection reference\" [(ngModel)]=\"gun.collRef\"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n<!-- second row-->\n<div *ngIf=\"user.login\" class=\"row bg-light pt-3\">\n    <!-- Map Pane-->\n    <div class=\"col-md-6\">\n        <h3 class=\"bold\">Location</h3>\n        <div id=\"map_canvas\" class=\"map-container-inline\" > \n                <google-map width=\"100%\"\n                            height=\"100%\"\n                            [options]=\"options\"\n                            (tilesloaded)=\"loaded($event)\"\n                >\n                </google-map>\n        </div>\n        <mat-radio-group name=\"location-view\" [(value)]=\"locationView\" (change)=\"locationViewChange($event)\" fxLayout=\"row\" fxLayoutAlign=\"space-around center\" >\n                <mat-radio-button name=\"location-view\"  checked value=\"latLng\">Lat/Lon</mat-radio-button>\n                <mat-radio-button name=\"location-view\"  value=\"BNG\">Grid Ref</mat-radio-button>\n                <mat-radio-button name=\"location-view\"  value=\"geolocate\">Device Location</mat-radio-button>\n        </mat-radio-group>\n        <div class=\"row latlon\" *ngIf=\"locationView === 'latLng'\">\n            <div class=\"col-md-2\">\n                Lat\n            </div> \n            <div class=\"col-md-3\">\n                <input class=\"form-control\" type=\"text\" id=\"lat\" name=\"lat\" [value]=\"gun.location.lat()\" >\n            </div> \n            <div class=\"col-md-2\">\n                Long\n            </div> \n            <div class=\"col-md-3\">\n                <input class=\"form-control\" type=\"text\" id=\"lon\" name=\"lon\" [value]=\"gun.location.lng()\" >\n            </div>\n            <div class=\"col-md-2\">\n                <button mat-raised-button color=\"accent\" class=\"\" type=\"button\" onclick=\"reset_map(null)\">Center</button>\n            </div>\n        </div>\n        <div class=\"row latlon\" *ngIf=\"locationView === 'LatLng'\">\n            <small class=\"text-muted mx-auto\">All Lat/lon coordinates must be in WGS84</small>\n        </div>\n        <div class=\"row bng\" *ngIf=\"locationView === 'BNG'\">\n            <div class=\"col-md-2\">\n                East\n            </div>\n            <div class=\"col-md-3\">\n                <input class=\"form-control\" type=\"text\" name=\"eastings\" id=\"eastings\" value=\"\" >\n            </div>\n            <div class=\"col-md-2\">\n                North\n            </div>\n            <div class=\"col-md-3\">\n                <input class=\"form-control\" type=\"text\" name=\"northings\" id=\"northings\" value=\"\">\n            </div>\n            <div class=\"col-md-2\">\n                <button mat-raised-button color=\"accent\" class=\"\" type=\"button\" onclick=\"BNG_convert('bronze')\">GoTo</button>\n            </div>\n            <div class=\"row bng\">\n                <small class=\"text-muted mx-auto\">Conversion provided by British Geological Survey <a href=\"https://www.bgs.ac.uk/data/webservices/convertForm.cfm#bngToLatLng\">link</a></small>\n            </div>\n        </div>\n        <div class=\"row locate\" *ngIf=\"locationView === 'geolocate'\">\n            <button mat-raised-button color=\"accent\" class=\"mx-auto d-block\" type=\"button\" (click)=\"getLocation()\">Current Location</button>\n        </div>\n    </div>\n    <!-- Photo  Pane-->\n    <div class=\"col-md-6\">\n        <div class=\"row\"><div class=\"col-3\">\n            <h3 class=\"bold\">Photos</h3>\n        </div>\n        <div class=\"col-9\">\n            <div class=\"progress hidden\" >\n                <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" style=\"width: 0%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"input-group mb-3\">\n            <div class=\"input-group-prepend\">\n                <button type=\"button\" class=\"btn btn-primary\" id=\"file-upload\" >Upload</button>\n            </div>\n            <div class=\"custom-file\">\n                <input type=\"file\" id=\"file-name\" multiple accept=\"image/jpeg, image/png, image/bmp, image/eps, image/gif, image/tiff, JPEG, PNG, GOF,EPS,TIFF\" class=\"custom-file-input update-ignore\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\">\n                <label class=\"custom-file-label text-truncate\" for=\"inputGroupFile01\">Choose file</label>\n            </div>\n        </div>\n    </div>\n        <!-- <div class=\"imglist\" id=\"imgs\">\n        {% for image in images %}\n        <a href=\"{{image.original|safe}}\" data-fancybox=\"image-gallery\" data-caption=\"cannon photo\">\n            <img src=\"{{image.s200|safe}}\" alt=\"\" />\n        </a>\n        {% endfor %\n        </div>\n    </div> -->\n</div>\n","import { Component, OnInit, Input, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\nimport { ControlContainer, NgForm, NgModel } from '@angular/forms';\nimport { DataItem } from '../bcp-map-data.service';\nimport {BcpFilterValuesService} from '../bcp-filter-values.service';\nimport {BcpUserService, BcpUser, BcpUserStanding} from '../bcp-user.service'\n\n@Component({\n  selector: 'bcp-record-reporter',\n  templateUrl: './bcp-record-reporter.component.html',\n  styleUrls: ['./bcp-record-reporter.component.css'],\n  viewProviders: [ { provide: ControlContainer, useExisting: NgForm } ]\n})\nexport class BcpRecordReporterComponent implements OnInit, AfterViewInit {\n\n  _gun: DataItem;\n  @Input()\n  set gun(gun: DataItem) {\n    this._gun=gun;\n    if (this.cannonSvg) this.updateSvg();\n  };\n\n  get gun(): DataItem {\n    return this._gun\n  }\n\n  scale: string = 'metres';\n\n  @ViewChild('cannon', {static:true}) cannon :ElementRef;\n  @ViewChild(NgModel, {static: false}) model: NgModel;\n  private cannonSvg: any;\n\n\n  constructor(public DATA_VALUES: BcpFilterValuesService, public user: BcpUserService ) { }\n\n  ngOnInit(): void {\n    \n  }\n\n  ngAfterViewInit() : void {\n    this.cannon.nativeElement.onload = () => {\n      this.cannonSvg = this.cannon.nativeElement.contentDocument;\n      this.updateSvg()\n    }\n    this.model.update.subscribe( () => { if (this.cannonSvg) this.updateSvg()});\n  }\n\n\n  scaleToggle($event){\n    if ($event.checked) {\n      this.scale = \"mm\";\n      let keys = Object.keys(this.gun.measurements);\n      keys.forEach(key => this.gun.measurements[key]*= 1000 )\n      } else {\n        this.scale = \"metres\";\n      let keys = Object.keys(this.gun.measurements);\n      keys.forEach(key => this.gun.measurements[key]*= 0.001 )\n      };\n      this.updateSvg();\n    }\n  \n  updateSvg(): void {\n    this.cannonSvg.getElementById('length-text').firstElementChild.innerHTML = this.gun.measurements['length'] ? this.gun.measurements['length'] : 0;\n    this.cannonSvg.getElementById('br-text').firstElementChild.innerHTML = this.gun.measurements['baseRing'] ? this.gun.measurements['baseRing'] : 0;\n    this.cannonSvg.getElementById('muzzle-text').firstElementChild.innerHTML = this.gun.measurements['muzzle'] ? this.gun.measurements['muzzle'] : 0;\n    this.cannonSvg.getElementById('bore-text').firstElementChild.innerHTML = this.gun.measurements['bore'] ? this.gun.measurements['bore'] : 0;\n    this.cannonSvg.getElementById('tp-text').firstElementChild.innerHTML =  this.gun.measurements['trunnionPosition'] ? this.gun.measurements['trunnionPosition'] : 0 ;\n    this.cannonSvg.getElementById('tw-text').firstElementChild.innerHTML = this.gun.measurements['trunnionWidth'] ? this.gun.measurements['trunnionWidth'] : 0 ;\n    this.cannonSvg.getElementById('td-text').firstElementChild.innerHTML = this.gun.measurements['trunnionDiameter'] ? this.gun.measurements['trunnionDiameter']: 0 ;\n    this.cannonSvg.getElementById('to-text').firstElementChild.innerHTML = this.gun.measurements['trunnionOffset'] ? this.gun.measurements['trunnionOffset'] : 0 ;\n    }; \n  \n\n}\n","<div class=\"position-relative\">\n    <div class=\"embed-responsive embed-responsive-16by9\">\n        <object class=\"embed-responsive-item\" #cannon data='../../assets/cannon_chart.svg' type=\"image/svg+xml\"></object>\n   </div>\n    \n    <div class=\"overlap\" >\n    <table  class=\"table table-sm table-dark table-striped mb-5\">\n        <thead class=\"thead-dark\">\n            <th >Measurements</th>\n            <th>\n                    <mat-slide-toggle name=\"scale\" [(ngModel)]=\"gun.measurements.scale\" (change)=\"scaleToggle($event)\" >{{scale}} </mat-slide-toggle>\n            </th>\n        </thead>\n        <tbody class=\"small\">\n        <tr>\n            <td >Length</td>\n            <td><input matInput class=\"w-100\" type=\"text\" name=\"length\" id=\"length\" placeholder=\"Length\" (ngModelChange)=\"updateSvg()\" [(ngModel)]=\"gun.measurements.length\"></td>\n            </tr>\n            <tr>\n            <td>Base Ring Diameter</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"base_ring\" id=\"base_ring\" placeholder=\"Base Ring\"  [(ngModel)]=\"gun.measurements.baseRing\"></td>\n            </tr>\n            <tr>\n            <td>Muzzle Diameter</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"muzzle\" id=\"muzzle\" placeholder=\"Muzzle\" [(ngModel)]=\"gun.measurements.muzzle\"></td>\n            </tr>\n            <tr>\n            <td>Bore Diameter</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"bore\" id=\"bore\" placeholder=\"Bore\"  [(ngModel)]=\"gun.measurements.bore\"></td>\n            </tr>\n            <tr>\n            <td>Trunnion Position</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"trunnion_position\" id=\"trunnion_position\" placeholder=\"Trunnion to BR\"  [(ngModel)]=\"gun.measurements.trunnionPosition\"></td>\n            </tr>\n            <tr>\n            <td>Trunnion Width</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"trunnion_width\" id=\"trunnion_width\" placeholder=\"Trunnion Width\"  [(ngModel)]=\"gun.measurements.trunnionWidth\"></td>\n            </tr>\n            <tr>\n            <td>Trunnion Diameter</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"trunnion_diameter\" id=\"trunnion_diameter\" placeholder=\"Trunnion Dia\"  [(ngModel)]=\"gun.measurements.trunnionDiameter\"></td>\n            </tr>\n            <tr>\n            <td>Trunnion Offset</td>\n            <td><input class=\"w-100\" type=\"text\" name=\"trunnion_offset\" id=\"trunnion_offset\" placeholder=\"Trunnion Offset\"  [(ngModel)]=\"gun.measurements.trunnionOffset\"></td>\n            </tr>\n        </tbody>\n        </table>\n    </div>\n    </div>\n     \n","import { Component, OnInit, Input } from '@angular/core';\nimport { ControlContainer, NgForm } from '@angular/forms';\nimport { DataItem } from '../bcp-map-data.service';\nimport {BcpFilterValuesService} from '../bcp-filter-values.service';\nimport {BcpUserService, BcpUser, BcpUserStanding} from '../bcp-user.service'\n\n@Component({\n  selector: 'bcp-record-surveyor',\n  templateUrl: './bcp-record-surveyor.component.html',\n  styleUrls: ['./bcp-record-surveyor.component.css'],\n  viewProviders: [ { provide: ControlContainer, useExisting: NgForm } ]\n})\nexport class BcpRecordSurveyorComponent implements OnInit {\n \n  @Input() gun: DataItem;\n\n  constructor(public DATA_VALUES: BcpFilterValuesService, public user: BcpUserService ) { }\n\n  ngOnInit(): void {\n    let a;\n  }\n\n\n\n}\n","<div class=\"container\">\n    <mat-accordion class=\"example-headers-align\">\n        <mat-expansion-panel >\n            <mat-expansion-panel-header>\n                <mat-panel-title>\n                    <h3 class=\"bg-primary text-white p-1\">MOULDING CODE</h3> \n                </mat-panel-title>\n                <mat-panel-description>\n                    <textarea class=\"bg-site w-auto\"  rows=\"1\" name=\"moulding\" id=\"moulding\" onclick=\"event.stopPropagation()\" [(ngModel)]=\"gun.mouldingCode\"></textarea>\n                </mat-panel-description>\n            </mat-expansion-panel-header>\n                <div class=\"row\">\n                    <div class=\"card\">\n                        <img src=\"../../assets/mouldings.png\" class=\"card-img-top mx-auto\" alt=\"...\" style=\"max-width: 600px\">\n                        <div class=\"card-body\">\n                            <p class=\"card-text text-center bold\">\n                                Add the Moulding codes for each ring in order - from the Base Ring to the Muzzle - using the RIng Divider \"/\" between each ring. To delete or change, edit the text above directly.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>A</h1><p><small>Astragal</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/A.png\">\n                    </button>\n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>B</h1><p><small>Band</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/B.png\">\n                    </button>\n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>S</h1><p><small>Slope</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/S.png\">   \n                    </button> \n                </div>\n                <div class=\"row\">\n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>F</h1><p><small>Fillet</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/F.png\">\n                    </button> \n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>O</h1><p><small>Ogee</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/O.png\">\n                    </button> \n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>Q</h1><p><small>Quadrant</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/Q.png\">\n                    </button> \n                </div>\n                <div class=\"row\">\n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>C</h1><p><small>Concave</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/C.png\">\n                    </button> \n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>/</h1><small>Ring Divider</small></span>\n                    </button> \n                    <button mat-button class=\"image-checkbox col-4 text-center \">\n                        <span class=\"\"><h1>X</h1><small>None</small></span>\n                    </button>\n                </div>\n            </mat-expansion-panel>\n            <mat-expansion-panel aria-label=\"Muzzle Codes\">\n                <mat-expansion-panel-header>\n                <mat-panel-title>\n                    <h3 class=\"bg-primary text-white p-1\">MUZZLE CODE</h3> \n                </mat-panel-title>\n                <mat-panel-description>\n                    <h3 class=\"bg-primary text-white p-1\">{{gun.muzzleCode}}</h3>\n                </mat-panel-description>\n                </mat-expansion-panel-header>\n                <mat-button-toggle-group name=\"muzzle\" [(ngModel)]=\"gun.muzzleCode\">\n                    <div class=\"row\">\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"R\">\n                            <span class=\"\"><h1>R</h1><p><small>Tulip</small></p></span>\n                            <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/R.png\">\n                        </mat-button-toggle>\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"F\">\n                            <span class=\"\"><h1>F</h1><p><small>Flared Cone</small></p></span>\n                            <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/F.png\">\n                        </mat-button-toggle>\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"T\">\n                            <span class=\"\"><h1>T</h1><p><small>Tapered Cone</small></p></span>\n                            <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/T.png\">\n                        </mat-button-toggle>\n                    </div>\n                    <div class=\"row\">\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"P\">\n                            <span class=\"\"><h1>P</h1><p><small>Cylinder</small></p></span>\n                            <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/P.png\">\n                        </mat-button-toggle>\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"E\">\n                            <span class=\"\"><h1>E</h1><p><small>Coronice</small></p></span>\n                            <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/E.png\">\n                        </mat-button-toggle>\n                        <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"X\">\n                            <span class=\"\"><h1>X</h1><p><small>None</small></p></span>\n                        </mat-button-toggle>\n                    </div>\n                </mat-button-toggle-group>  \n            </mat-expansion-panel>\n            <mat-expansion-panel aria-label=\"Cascable Codes\">\n                <mat-expansion-panel-header>\n                <mat-panel-title>\n                    <h3 class=\"bg-primary text-white p-1\">CASCABLE CODE</h3> \n                </mat-panel-title>\n                <mat-panel-description>\n                    <h3 class=\"bg-primary text-white p-1\">{{gun.casCode}}</h3>\n                </mat-panel-description>\n                </mat-expansion-panel-header>\n                <mat-button-toggle-group name=\"cascable\" [(ngModel)]=\"gun.casCode\">\n                <div class=\"row\">\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"K\">\n                        <span class=\"\"><h1>K</h1><p><small>Conical</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/K.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"O\">\n                        <span class=\"\"><h1>O</h1><p><small>Spherical</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/Sph.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"U\">\n                        <span class=\"\"><h1>U</h1><p><small>Concave</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/U.png\">\n                    </mat-button-toggle>\n                </div>\n                <div class=\"row\">\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"D\">\n                        <span class=\"\"><h1>D</h1><small>Flat</small></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/Flat.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"X\">\n                        <span class=\"\"><h1>X</h1><small>None</small></span>\n                    </mat-button-toggle>\n                    <div class=\" col-4 nopad text-center \" fxHide.gt-sm>\n                        \n                    </div>\n                    <div class=\" col-4 nopad text-center \" fxHide.gt-sm>\n                        \n                    </div>\n                </div>\n            </mat-button-toggle-group>  \n        </mat-expansion-panel>\n        <mat-expansion-panel aria-label=\"Button Codes\">\n            <mat-expansion-panel-header>\n            <mat-panel-title>\n                <h3 class=\"bg-primary text-white p-1\">BUTTON CODE</h3> \n            </mat-panel-title>\n            <mat-panel-description>\n                <h3 class=\"bg-primary text-white p-1\">{{gun.buttonCode}}</h3>\n            </mat-panel-description>\n            </mat-expansion-panel-header>\n            <mat-button-toggle-group name=\"button\" [(ngModel)]=\"gun.buttonCode\">\n                <div class=\"row\">\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"N\">\n                        <span class=\"\"><h1>N</h1><p><small>Knob</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/N.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"L\">\n                        <span class=\"\"><h1>L</h1><p><small>Knob with Loop</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/L.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"G\">\n                        <span class=\"\"><h1>G</h1><p><small>Spherical</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/G.png\">\n                    </mat-button-toggle>\n                </div>\n                <div class=\"row\">\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"C\">\n                        <span class=\"\"><h1>C</h1><p><small>Cylinder</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/Cyl.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"H\">\n                        <span class=\"\"><h1>H</h1><p><small>Horizontal Ring</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/H.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"V\">\n                        <span class=\"\"><h1>V</h1><p><small>Vertical Ring</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/V.png\">\n                    </mat-button-toggle>\n                </div>\n                <div class=\"row\">\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"E\">\n                        <span class=\"\"><h1>E</h1><p><small>Exended Knob</small></p></span>\n                        <img class=\"img-fluid\"  width=\"400px\" src=\"../../assets/Ext.png\">\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"image-checkbox col-4 text-center\" value=\"X\">\n                        <span class=\"\"><h1>X</h1><small>None</small></span>\n                    </mat-button-toggle>\n                    <div class=\" col-4 nopad text-center \" fxHide.gt-sm>\n                        \n                    </div>\n                </div>\n            </mat-button-toggle-group>  \n        </mat-expansion-panel>\n    </mat-accordion>\n</div>\n ","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from 'firebase/app';\nimport {BcpApiService} from './bcp-api.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BcpUserService {\n\n  user: BcpUser;\n  login: boolean = false;\n  token: string;\n\n  constructor(private auth: AngularFireAuth, private api: BcpApiService) {\n    auth.auth.onAuthStateChanged( user => {\n      if (user) {\n          this.getUser(user);\n      } else {\n        this.user = null;\n        this.login = false;\n      }\n    });\n  }\n\n  public getUser(user): void{\n    this.auth.idToken.subscribe(token => {\n      this.api.apiPost(token, this.api.FETCH_USER ).subscribe(response => {\n        this.user = new BcpUser(user, response);\n        this.login = true;\n      },\n      error => {})\n    },\n    error => {})\n  }\n}\n\nexport class BcpUser {\n  name: string;\n  id: string;\n  fireUserData?: User;\n  standing: BcpUserStanding;\n  test_user: boolean;\n\n  constructor(user : User, buser: {[key:string]:any}) {\n    this.id = buser.uid;\n    this.fireUserData = user;\n    this.name = buser.name;\n    this.standing = buser.standing as BcpUserStanding;\n    this.test_user = buser.test;\n  }\n\n}\n\nexport type BcpUserStanding = \"OBSERVER\" | \"RECORDER\" | \"SURVEYOR\" | \"ADMIN\";\n","\n\n    export class LocateControl {\n        public marker: google.maps.Circle;\n        constructor (map: google.maps.Map, args: LocateControlOptions, el: HTMLElement ) {\n            let options = args;\n            map.controls[options.position ? options.position : google.maps.ControlPosition.BOTTOM_LEFT].push(el);\n            this.marker = new google.maps.Circle({\n                strokeColor: '#0000FF',\n                strokeOpacity: 0.8,\n                strokeWeight: 2,\n                fillColor: '#0000FF',\n                fillOpacity: 0.35,\n            });\n            if (! options.locationOptions) options.locationOptions = {\n                enableHighAccuracy: true,\n                timeout: 100000,\n                maximumAge: 1000000,\n            }\n        }\n    }\n\n    export interface LocateControlOptions {\n        position?: google.maps.ControlPosition;\n        zoom?: boolean;\n        zoomTo?: number;\n        pan?: boolean;\n        locationOptions?:LocationOptions;\n    }\n\n    export interface LocationOptions {\n        enableHighAccuracy?: boolean;\n        timeout?: number;\n        maximumAge?: number;\n    }\n\n    export type LocateControlStatus = 'off' |  \"on\" | 'moved'\n\n","///<reference types='googlemaps' />\nimport { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\nimport {LocateControl, LocateControlOptions, LocateControlStatus} from  './google-locate-control';\n\n@Component({\n  selector: 'app-googlemap-locate',\n  templateUrl: './googlemap-locate.component.html',\n  styleUrls: ['./googlemap-locate.component.scss']\n})\nexport class GooglemapLocateComponent implements OnInit {\n  @ViewChild('div', {\"static\": false}) div: ElementRef;\n\n  private _map: google.maps.Map;\n  \n  @Input()\n  options: LocateControlOptions\n\n  status: LocateControlStatus = 'off';\n\n  private watch: number;\n  private control: LocateControl;\n  private position: Position;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  @Input() set map(map: google.maps.Map){\n    if (map) {\n      this._map = map;\n      let status= this.status\n      this.control = new LocateControl(map, this.options, this.div.nativeElement );\n      map.addListener('dragstart', function(){\n        status = \"moved\";\n      });\n      map.addListener('zoomstart', function(){\n        status = \"moved\";\n      })\n    }\n  }\n  get map(): google.maps.Map {\n    return this._map\n  }\n\n  onClick(){\n    if(navigator.geolocation && this.status === 'off' ) {\n        let marker = this.control.marker;\n        let options = this.options;\n        let map = this.map;\n        this.status = 'on';\n        let position = this.position;\n        this.watch = navigator.geolocation.watchPosition(function(my_position) {\n            position = my_position;\n            let latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n            marker.setMap(map);\n            marker.setCenter(latlng);\n            marker.setRadius(position.coords.accuracy); \n            if (options.pan && status !== 'moved') map.setCenter(latlng);\n            if (options.zoom && status !== 'moved') map.setZoom( this.options.zoomTo ? this.options.zoomTo : 17)\n        }, function(e) { console.log(e.message)},options.locationOptions);\n    } else if (status == 'on' ) {\n        status = 'off';\n        navigator.geolocation.clearWatch(this.watch);\n        this.control.marker.setMap(null);\n\n    } else if (status == 'moved') {\n        status = 'on';\n        let latlng = new google.maps.LatLng(this.position.coords.latitude, this.position.coords.longitude);\n        this.map.setCenter(latlng);\n    }\n  }\n}\n","<div #div><button draggable=\"false\" title=\"Locate\" aria-label=\"Locate\" type=\"button\" class=\"gm-control-active locate-control\" (click)=\"onClick()\">\n    <mat-icon [ngClass]=\"{\n        'locate-control': true,\n    'locate-selected': status == 'on',\n    'locate-moved': status == 'moved'\n    }\" >gps_fixed</mat-icon>\n</button> \n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n/* \nexport const environment = {\n  production: false\n}; */\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n\nvar DISCOVERY_DOCS = [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"];\nvar SCOPES = [\n  \"email\",\n  \"profile\",\n ];\nvar CLIENT_ID = '927628257279-n6qtj2jk165emkona4hhac9bulgh4jke.apps.googleusercontent.com';\nvar API_KEY = 'AIzaSyDZcNCn8CzpdFG58rzRxQBORIWPN9LOVYg';\nvar AUTH_DOMAIN =  \"ultima-ratio-221014.firebaseapp.com\";\nvar PROJECT_ID = \"ultima-ratio-221014\";\nvar DATABASE_URL = \"https://ultima-ratio-221014.firebaseio.com\";\nvar STORAGE_BUCKET = \"ultima-ratio-221014.appspot.com\"\n\nexport const environment = {\n  production: false,\n  firebase: {\n\t  apiKey: API_KEY,\n\t  authDomain: AUTH_DOMAIN,\n\t  databaseURL: DATABASE_URL,\n\t  projectId: PROJECT_ID,\n\t  storageBucket: STORAGE_BUCKET,\n\t  messagingSenderId: \"927628257279\",\n\t  clientId: CLIENT_ID,\n\t  scopes: SCOPES,\n\t  discoveryDocs: DISCOVERY_DOCS\n  },\n  firebaseui: {\n    apiKey: API_KEY,\n    authDomain: AUTH_DOMAIN,\n    databaseURL: DATABASE_URL,\n    projectId: PROJECT_ID,\n    storageBucket: STORAGE_BUCKET,\n  },\n  apiUrl: 'http://localhost:8000/_ah/api/bcp'\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}