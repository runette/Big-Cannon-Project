<div class="container pt-5 pb-5" *ngIf="currentUser else notlogedin">
    <mat-horizontal-stepper linear labelPosition="right"  #stepper>
        <mat-step errorMessage="Site is required." [completed]="steponeCompleted" >
            <ng-template matStepLabel>Add Gun Location and Site</ng-template>
            <ng-template matStepContent>
                <div class="row">
                    <div class="col-md-6">
                        <form id="location-entry">
                            <mat-card>
                                <mat-card-title-group>
                                    <mat-card-title>Enter the Gun Location</mat-card-title>
                                </mat-card-title-group>
                                <mat-card-content>
                                    <p><small class="text-muted "> Enter co-ordinates, move the cannon on the map below to the right place or use your current location</small></p>
                                    <small class="text-muted "><a href="/recording">How to Record a Cannon</a> </small>
                                </mat-card-content>
                            </mat-card>
                            <app-bcp-gmap
                                [options]="options"
                                [location]="location"
                                [viewport]="viewport"
                                (newLocation$)="this.location = $event"
                            >
                            </app-bcp-gmap>
                        </form>
                    </div>
                    <div class="col-md-6">
                        <app-bcp-site-selector
                            [location]="location"
                            [site]="site"
                            (newSite$)="this.site = $event"
                        >
                        </app-bcp-site-selector>
                    </div>
                </div>
            </ng-template>
        </mat-step>

        <mat-step errorMessage="One Photo is Required" [completed]="steptwoCompleted">
            <ng-template matStepLabel>Upload A Photo</ng-template>
            <ng-template matStepContent>
                <app-bcp-photos 
                    (newImage$)="acceptPhoto($event)"
                ></app-bcp-photos>
            </ng-template>
        </mat-step>
    </mat-horizontal-stepper>
</div>
<ng-template #notlogedin>
    <div class="container pt-5 pb-5">
        <div class="jumbotron jumbotron-fluid text-center bg-ur" >
            <h1 class="display-4">You must be logged in to create new Records</h1>
        </div>
    </div>
</ng-template>